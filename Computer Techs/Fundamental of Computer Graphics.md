# Chapter 5 线性代数

## 5.1 行列式

可以将行列式看作是向量相乘的一种方式。

对于二维向量来说，$|ab|$就是a和b形成的平行四边形的面积，这个面积是有方向（符号）的，当a在b的右边时（right-handed）是正的，a在b的左边时是负的。

对于三维向量a、b、c来说，$|abc|$就是a、b、c形成的平行六面体的体积。

> [!NOTE]
> 以2D为例，right-handed的意思是将一个向量逆时针旋转到另一个向量的位置，并且旋转的角度要是最小的（小于180°）。

由于伸缩平行四边形的一条边相当于以同样倍率伸缩平行四边形的面积，可以得出如下性质：

$$
|(ka)b=|a(kb)|=k|ab|
$$

另外，斜切一个平行四边形时不会改变其面积：

$$
|(a+kb)b|=|a(b+ka)|=|ab|
$$
![[Pasted image 20250527160917.png]]

左边的两个平行四边形经过斜切之后可以得到右边的一个大的平行四边形，两者的面积相同，可以得出：

$$
|a(b+c)|=|ab|+|ac|
$$

当我们想要计算一个向量关于另外两个向量的线性组合时，行列式就自然出现了。

$$
c=a_ca+b_cb
$$

![[Pasted image 20250527162408.png]]

根据斜切面积不变的性质，可以得出：

$$
|(b_cb)a|=|ca|
$$
$$
b_c=\frac{|ca|}{|ba|}
$$
$$
a_c=\frac{|bc|}{|ba|}
$$

## 5.2 矩阵

矩阵是一组遵循特定算术规则的数字，在计算机图形学中常用于各种意图例如表示空间变换。

### 5.2.1 矩阵算术

常数和矩阵相乘：常数和矩阵中的每个元素相乘。

矩阵和矩阵相加：矩阵中的每个位置的元素对应相加。

矩阵和矩阵相乘：用第一个矩阵的每一行乘以第二个矩阵的每一列。

只有当第一个矩阵的列数等于第二个矩阵的行数时，才能相乘。

矩阵乘法不满足交换律，满足结合律和分布律。

### 5.2.2 矩阵上的操作

我们用单位矩阵$I$来表示矩阵当中的1，它仅在方形矩阵中成立。例如一个4×4的单位矩阵：

$$
I=\left [
\begin{matrix}
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 \\
0 & 0 & 0 & 1 \\
\end{matrix}
\right ]
$$

矩阵A与其逆矩阵$A{-1}$相乘的结果是一个单位矩阵。

$$
AA^{-1}=I
$$

矩阵相乘的逆等于矩阵的逆相乘，但顺序需要调换。

$$
(AB)^{-1}=B^{-1}A^{-1}
$$

矩阵转置是将矩阵的行元素与列元素位置互换。

矩阵相乘的转置性质和逆类似。

$$
(AB)^{T}=B^{T}A^{T}
$$

行列式与矩阵操作的一些关系：

$$
\begin{align}
|AB|=|A||B|\\
|A^{-1}|=\frac{1}{|A|}\\
|A^{T}|=|A|
\end{align}
$$

### 5.2.3 矩阵形式的向量操作

矩阵和向量相乘有两种方式：

1. 向量作为列向量乘在矩阵的右边
2. 向量作为行向量乘在矩阵（转置）的左边

例如将向量$a=(x_a,y_a)$绕原点旋转90°得到向量$a^{'}=(-y_a,x_a)$，以下两种方式是等价的：

$$
\left[
\begin{matrix}
0 & -1 \\
1 & 0 
\end{matrix}
\right]
\left[
\begin{matrix}
x_a \\
y_a
\end{matrix}
\right]
=
\left[
\begin{matrix}
-y_a \\
x_a
\end{matrix}
\right] \\
$$
$$
\left[
\begin{matrix}
x_a & y_a
\end{matrix}
\right]
\left[
\begin{matrix}
0 & 1 \\
-1 & 0 
\end{matrix}
\right]
=
\left[
\begin{matrix}
-y_a & x_a
\end{matrix}
\right] \\
$$

两个向量的点乘可以写成如下矩阵形式，左边用行向量，右边用列向量。

$$
a·b=a^{T}b
$$

两个向量的叉乘可以写成如下矩阵形式，左边用列向量，右边用行向量。

$$
a×b=ab^{T}
$$

在三维中可以将3×3矩阵看作是3个列向量，也可以看作是3个行向量。

例如$y=Ax$可以解释为一个所有元素分别是x与A的每一行点乘结果的向量，也可以看作x的各个分量分别与A的每一列相乘的结果。

### 5.2.4 特殊矩阵

单位矩阵是一种对角矩阵，其所有非零元素都在对角线（行索引=列索引）上。

单位矩阵也是一种对称矩阵，其转置和本身相等。

单位矩阵也是正交矩阵，因为它的每一列/行都是单位向量并且每一列/行互相垂直。

所有正交矩阵的行列式都是1或-1。

正交矩阵的一个非常有用的特性是其转置矩阵等于其逆矩阵。

$$
R^{T}R=I=RR^{T}
$$

## 5.3 使用矩阵和行列式进行计算

矩阵的行列式和矩阵转置的行列式结果相同。






### 5.3.1 计算矩阵的逆

$$
A^{-1}=\frac{1}{|A|}A^{adjoint}
$$

伴随矩阵（adjoint）是矩阵的余子式矩阵的转置。