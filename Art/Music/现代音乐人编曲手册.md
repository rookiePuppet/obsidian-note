# 第一章 MIDI作曲、编曲和配器者需要掌握的基本概念

在作曲开始就假想使用真弦乐来演奏，能更容易地使用MIDI制作出令人信服的弦乐。

## MIDI标准

MIDI（Musical Instrument Digital Interface）是一种允许不同设备进行数据交换的协议，能够让不同公司生产的键盘和合成器能够配合使用。

MIDI标准定义了16个相互独立的传输通道，设备可以在这些通道中发送和接收MIDI数据。MIDI数据中不包含任何音频内容，它记录的是音符和事件等信息，相当于乐谱。

MDII标准使用3个端口来控制数据流：输入IN（接收MIDI数据）、输出OUT（ 发送设备生成的MIDI数据）和通过THRU（发送输入端口接收到的原始MIDI数据）。

三种主流的MIDI配置方案：

- 以DAW软件为基础的连接：主计算机为MIDI音序编写、音频录音和声音生成提供运算能力，需要一个MIDI控制器直接连接到计算机的USB口，主要用于家庭/小型工作室。
- 星形网络（SN）连接：使用一个多线缆接口将所有设备并行连接到计算机上，MIDI数据传输不会有延迟，能让每一台设备都唔那个使用所有的16个MIDI通道。
- 菊链（DC）连接：通常不使用计算机，而是使用THRU端口将两台以上的设备进行级联，主要用在非常简单的工作室配置或现场演奏中。

## MIDI信息及其实际应用

MIDI标准中定义的信息主要分为通道信息和系统信息。

### 通道声音信息

- 音符开信息（Note On）：每次按下MIDI琴键时都会发送该信息，包括音高（0~127编码），使用的MIDI通道，击键速度，力度大小。
- 音符关信息（Note Off）：每次松开MIDI琴键时都会发送该信息，其功能是终止一个由音符开信息触发的音符。
- 触后（Aftertouch，压力）：在击键（音符开信息）之后再次使劲按下时发送，通常用于控制颤音。
- 弯音（Pitch Bend）： 由键盘控制器上的弯音轮控制，用于升降正在演奏的音符的音高。范围是0~16383。
- 程序改变（Program Change）：用于改变MIDI通道的音色。
- 控制改变（Control Change）：用于控制MIDI通道的特定参数CC#0~CC#127，其中最重要的是CC#1、CC#7、CC#10和CC#64。

利用控制改变信息能极大提高MIDI声音的真实感，达到模仿真实乐器声音的目的。

### 常用的控制改变

- CC#7（音量）：用于控制MIDI通道的总体输出电平，每个MIDI通道都有一个音量控制。
- CC#10（声像）：用于控制MIDI通道在立体声声场中的声像定位。
- CC#1（调制）：通常用于控制MIDI通道的颤音，某些情况下也用于控制其他参数。
- CC#64（延音）：通常用于控制延音踏板。

### 扩展控制器

这些信息特别适合用来丰富弦乐、木管和铜管等乐器声部的演奏表情，因为这类乐器通常需要对声音的强弱、发声和色彩进行更高程度的控制。

- CC#2（呼吸控制器）：常用于控制调制、音量或颤音等参数，并不与某一特定操作绑定，用户可自行设置。
- CC#4（脚踏控制器）：常用于控制音量、声像或合成器上的其他参数，用户可根据需求自行设置。
- CC#65（滑音开关）：用于打开和关闭滑音效果。
- CC#5（滑音时间）：用于指定两个相邻音符之间滑音效果的变化速率。
- CC#8（立体声平衡）：用于控制立体声音色的MIDI声部的左右声道平衡。
- CC#11（表情控制器）：常用于改变MIDI通道音量，在CC#7设定的通道音量下以类似百分比形式对通道音量进行精细调整。在实际应用中，使用CC#11完成各个声部内部的音量自动化，而使用CC#7来调整各个MIDI音轨 间的总体音量平衡。
- CC#66（持续音踏板开关）：与CC#64类似，但CC#66只会对踏板踩下前的音符进行延音。
- CC#67（弱音踏板开关）：在踏板踩下期间，所在MIDI通道上的所有音符音量都会被降低。
- CC#68（连奏踏板开关）：在音符之间建立平滑过渡，实现木管或弦乐一次性演奏多个音符的效果。
- CC#69（延音踏板2）：与CC#64类似，但CC#69的效果是产生自然的释音，用于模拟弦乐和木管声音的自然衰减。

### 粗调和微调

0~31的所有控制器都能实现128级的参数调整（8位二进制，范围是0~127），在32~63控制器中有对应的微调控制器，两者组合起来可以表示14位二进制数，大大增加了参数值范围。

大多数情况下，使用粗调足以。

### 通道模式信息

